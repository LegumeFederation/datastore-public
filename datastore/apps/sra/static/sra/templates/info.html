<div class="main-container container">
  <div class="content" ng-controller="DatastoreCtrl">
  {{data.msg}}
    <div id="breadcrumbs">
      <ul class="clearfix">
        <li ng-class="{'file': crumb.type == 'file'}" ng-repeat="crumb in data.breadcrumbs">
          <a ng-href="/browse{{crumb.path}}" ng-click="browse(crumb.path)">{{crumb.name}}</a>
        </li>
      </ul>
    </div>
    <!-- <div id="file-scroller"> -->
    <div id="file-scroller">
      <div id="file-scroller-inner" class="clearfix">




      <script type="text/ng-template" id="preview_modal.html">
        <div class="modal-header">
            <h3 class="modal-title">{{file_name}}</h3>
        </div>
        <div class="modal-body">
            <h4 ng-if="data.metadata.template.length || data.metadata.irods.length"> Metadata </h4>
            <ul>
                <li class="list-group-item" ng-repeat="meta in data.metadata.template">
                  <dd>{{meta.attr}}</dd>
                  <dt>{{meta.value}}</dt>
                </li>
                <li class="list-group-item" ng-repeat="meta in data.metadata.irods">
                  <dd>{{meta.attr}}</dd>
                  <dt>{{meta.value}}</dt>
                </li>
            </ul>
            <h4>File information</h4>
            <ul>
              <li>
                <dd>File Path</dd>
                <dt>{{data.path}}</dt>
              </li>
              <li>
                <dd>File Size</dd>
                <dt>{{data['file-size']}}</dt>
              </li>
              <li>
                <dd>Created</dd>
                <dt>{{data['date-created']}}</dt>
              </li>
              <li>
                <dd>Last Modified</dd>
                <dt>{{data['date-modified']}}</dt>
              </li>
            </ul>

            <h4> File Preview </h4>
            <div ng-if="data.file_preview">
              <p>Preview may truncate file. Download to view entire file.</p>
              <pre ng-class="{'{{data.brush}} syntaxhighlighter': data.file_preview.length >= 0}">{{data.file_preview}}</pre>
            </div>
            <div ng-if="!data.file_preview">
              <p>Preview not available</p>
            </div>
        </div>
        <div class="modal-footer">
            <!-- <button class="btn btn-primary" type="button" ng-click="ok()">OK</button> -->
            <!-- <button class="btn btn-warning" type="button" ng-click="cancel()">Cancel</button> -->
              <button type="button" class="btn btn-default" ng-click="download(file_path)" ng-disabled="!data['downloadable']">Download</button>
            <div ng-if="!data['downloadable']">
              <div>
                Due to the size of this file, it cannot be downloaded from this page. Use one of the following methods:<div>Public Access (No account required)
                <ul>
                  <li>iCommands</li>
                  <li>iDrop</li>
                  <li>Cyberduck</li>
                  <li>
                    <a target="_blank" href="http://www.cyverse.org/learning-center/manage-data">More Information</a>
                  </li>
                </ul>
              </div>
              <div>CyVerse Users (Requires CyVerse account)
                <ul>
                  <li>
                    <a target="_blank" href="https://de.iplantcollaborative.org/de/?type=data&amp;folder=/iplant/home/shared/commons_repo/curated/Duitama_rice_variation_2015/">Discovery Environment (DE)</a>
                  </li>
                </ul>
              </div>
              <dl>
                <dt>Path:</dt>
                <dd>
                  <input value="/iplant/home/shared/commons_repo/curated/Duitama_rice_variation_2015/" type="text">
                </dd>
                <dt>File Name:</dt>
                <dd>
                  <input value="WGSOryza_CIAT_LSU_USDA_NCGR_Q40_annotated.vcf.gz" type="text">
                </dd>
              </dl>
              </div>
            </div>
        </div>
      </script>







        <ul>
            <li class="list-group-item" ng-repeat="meta in data.metadata.template">
              <dd>{{meta.attr}}</dd>
              <dt>{{meta.value}}</dt>
            </li>
            <li class="list-group-item" ng-repeat="meta in data.metadata.irods">
              <dd>{{meta.attr}}</dd>
              <dt>{{meta.value}}</dt>
            </li>
        </ul>
        <ul class="clearfix node-list" ng-if="data.collection.id">
          <!-- <div ng-if="folders"> -->
            <li class="dir" ng-repeat="folder in data.collection.folders">
              <a ng-href="/browse{{folder.path}}" ng-click="browse(folder.path, id=folder.id)" ><!-- <span class="glyphicon glyphicon-folder-close"></span>  -->{{ folder.label }}</a>
            </li>
          <!-- </div> -->
          <!-- <div ng-if="files"> -->
            <li class="file" ng-repeat="file in data.collection.files">
              <a ng-click="modal(file.path, file.label)">{{ file.label }} ({{file['file-size']}})</a>
            </li>
          <!-- </div> -->
        </ul>

        <div ng-if="data.type == 'file'">
          <ul class="file-properties">
          {{data}}
            <li>{{data.label}}</li>
            <li>{{data.file-size}} B</li>
            <li>{{data.id}}</li>
          </ul>

        </div>

        <a id="load_more" class="btn btn-default file-info-button" ng-if="data.collection.more_data" ng-click="load_more(data.collection.path)">
          Load More
        </a>
      </div>
    </div>
  </div>
</div>